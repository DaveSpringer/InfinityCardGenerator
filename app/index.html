<!DOCTYPE html>
<html ng-app="infinityCardApp">

<head>
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.js"></script>
    <script src="js/app.js"></script>
    <script src="js/inputPanel.js"></script>
    <script src="js/cardFront.js"></script>
    <script src="js/cardBack.js"></script>
    <link rel="stylesheet" href="css/app.css">
    <title>Infinty Card Generator</title>
    <link href='https://fonts.googleapis.com/css?family=Orbitron:500,800' rel='stylesheet' type='text/css'>
</head>

<body ng-controller="InfinityCardController">
    <div id="inputArea" ng-hide="hideInput">
        <input-panel header="Unit Selection">
            <p class="note">Note: Selecting units here may override previously provided inputs.</p>
            <select class="fullSelect" ng-model="temp.faction" ng-options="unit.faction for unit in units" ng-change="setFaction()">
            </select>
            <br>
            <select class="fullSelect" ng-model="temp.unit" ng-options="unit.fullName for unit in temp.faction.units" ng-change="setUnit()">
            </select>
            <br>
            <select class="fullSelect" ng-model="temp.loadout" ng-options="loadout.name for loadout in temp.unit.loadouts" ng-change="setLoadout()">
            </select>
        </input-panel>
        <input-panel header="Card Header">
            <label>Name</label>
            <input type="text" ng-model="model.name">
            <br>
            <label>Faction</label>
            <input type="text" ng-model="model.faction">
            <br>
            <label>Unit</label>
            <input type="text" ng-model="model.unit">
            <br>
            <label>Cube:</label>
            <select id="cube" ng-model="model.cube">
                <option value="none">None</option>
                <option value="cube">Cube</option>
                <option value="cube 2.0">Cube 2.0</option>
            </select>
            <br>
            <label>Order Type</label>
            <select id="order" ng-model="model.order">
                <option value="regular">Regular</option>
                <option value="irregular">Irregular</option>
            </select>
            <br>
            <label>Fury</label>
            <select id="fury" ng-model="model.fury">
                <option value="notImpetuous">Not Impetuous</option>
                <option value="impetuous">Impetuous</option>
                <option value="exImpetuous">Extremely Impetuous</option>
                <option value="frenzy">Frenzy</option>
            </select>
            <br>
            <input type="checkbox" ng-model="model.hackable" />
            <label>Hackable</label>
            <br>
            <label>Unit Image</label>
            <input type="text" ng-model="model.unitImage">
            <br>
            <label>Cost:</label>
            <br>
            <label>Points:</label>
            <input type="text" ng-model="model.cost">
            <label>SWC:</label>
            <input type="text" ng-model="model.swc">
            <br>
            <label>Specialist Type:</label>
            <select ng-model="model.specialist">
                <option ng-repeat="special in specialistTypes" value="{{special.value}}">{{special.name}}</option>
            </select>
        </input-panel>
        <input-panel header="Skills, Weapons, and Equipment">
            <table>
                <tr>
                    <td>
                        <label>Skills on Front:</label>
                        <br>
                        <select multiple ng-model="model.selectedSkills">
                            <option ng-repeat="skill in skills" type="checkbox" class="skillCheck" value="{{skill.name}}">{{skill.name}}</option>
                        </select>
                    </td>
                    <td>
                        <label>Skills on Back:</label>
                        <br>
                        <select multiple ng-model="model.selectedSkillsBack">
                            <option ng-repeat="skill in skills" type="checkbox" class="skillCheck" value="{{skill.name}}">{{skill.name}}</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>Weapons:</label>
                        <br>
                        <select multiple ng-model="model.selectedWeapons">
                            <option ng-repeat="weapon in weapons" value="{{weapon.name}}">{{weapon.name}}</option>
                        </select>
                    </td>
                    <td>
                        <label>CC Weapons:</label>
                        <br>
                        <select multiple ng-model="model.selectedSecondaries">
                            <option ng-repeat="secondary in secondaryWeapons" value="{{secondary.name}}">{{secondary.name}}</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>Equipment on Front:</label>
                        <br>
                        <select multiple ng-model="model.selectedEquipment">
                            <option ng-repeat="equip in equipment" value="{{equip.name}}">{{equip.name}}</option>
                        </select>
                    </td>
                    <td>
                        <label>Equipment on Back:</label>
                        <br>
                        <select multiple ng-model="model.selectedEquipmentBack">
                            <option ng-repeat="equip in equipment" value="{{equip.name}}">{{equip.name}}</option>
                        </select>
                    </td>
                </tr>
            </table>
        </input-panel>
        <input-panel header="Lifetime Stats">
            <label>Kills:</label>
            <input type="text" ng-model="model.kills" />
            <br>
            <label>Deaths:</label>
            <input type="text" ng-model="model.deaths" />
        </input-panel>

        <input-panel header="Unit Stats">
            <table id="inputTable">
                <tr>
                    <th>MOV</th>
                    <th>CC</th>
                    <th>BS</th>
                    <th>PH</th>
                    <th>WIP</th>
                    <th>ARM</th>
                    <th>BTS</th>
                    <th>W</th>
                    <th>S</th>
                </tr>
                <tr>
                    <td/>
                    <td>
                        <input type="text" size=2 ng-model="model.MOV">
                    </td>
                    <td>
                        <input type="text" size=2 ng-model="model.CC">
                    </td>
                    <td>
                        <input type="text" size=2 ng-model="model.BS">
                    </td>
                    <td>
                        <input type="text" size=2 ng-model="model.PH">
                    </td>
                    <td>
                        <input type="text" size=2 ng-model="model.WIP">
                    </td>
                    <td>
                        <input type="text" size=2 ng-model="model.ARM">
                    </td>
                    <td>
                        <input type="text" size=2 ng-model="model.BTS">
                    </td>
                    <td>
                        <input type="text" size=2 ng-model="model.W">
                    </td>
                    <td>
                        <input type="text" size=2 ng-model="model.S">
                    </td>
                </tr>
            </table>
        </input-panel>
        <input-panel header="Character Background">
            <textarea id="textArea" ng-model="model.background" cols="55" rows="5">{{model.background}}</textarea>
            <br>
            <input type="checkbox" ng-model="model.backgroundOnFront" />
            <label>Background on front</label>
            <br>
            <input type="checkbox" ng-model="model.hideBackground" />
            <label>Hide background</label>
            <br>
        </input-panel>
        <input-panel header="Hidden Information">
            <input type="checkbox" ng-model="model.hasCamo" />
            <label>Camoflaged Unit?</label>
            <br>
            <input type="checkbox" ng-model="model.canBeLt" />
            <label>Can be Lieutennant?</label>
            <br>
        </input-panel>
        <div class="inputBlock"> 
            <h3>JSON Input/Output (Temporary Storage)</h3>
            <input type="checkbox" ng-model="showJson" />
            <label>Show JSON</label>
            <br>
            <textarea id="jsonInput" json-text ng-model="model" ng-show="showJson" rows="15" cols="55"></textarea>
        </div>
    </div>
    <div id="hideInputBox">
        <button ng-click="saveToPc()">Save To PC</button>
        <input type="checkbox" ng-model="hideInput" />
        <label>Hide Input</label>
        <hr>
    </div>

    <div id="cardHolder">

        <card-front model="model" skills="skills" equipment="equipment"></card-front>
        <card-back model="model" skills="skills" equipment="equipment"></card-back>

    </div>
    <div id="footer" ng-hide="hideInput">
        Infinity is &copy;2015 Corvus Belli S.L.L.
        <br> Currently used without permission. Permission is being requested.
        <br>
        <a href="http://www.infinitythegame.com">Visit their site</a>
    </div>
</body>

</html>